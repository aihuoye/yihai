# 更新日志

## v2.0.0 - 2025-12-04

### 🎉 重大更新：管理后台全面升级

#### 新增功能

##### 1. 登录认证系统
- ✨ 新增登录页面 (`/admin/login.html`)
- 🔐 用户名密码认证（默认：admin / Aa121212）
- 🖼️ 图形验证码防护
- 💾 Session会话管理
- 🚪 退出登录功能

##### 2. 全新的管理界面
- 🎨 现代化的UI设计
- 📱 响应式布局
- 🎯 左侧菜单导航
- 👤 顶部用户信息栏

##### 3. 医生基础信息管理（重构）
- ✏️ 医生信息CRUD操作
- 🖼️ 头像上传和预览
- 💰 挂号费用管理
- 📋 医生列表展示
- 🔄 表单重置功能

##### 4. 医生号源信息管理（全新）
- 📅 可视化号源展示
- 🔍 按医生和日期范围查询
- ⚡ 批量设置号源
- ✏️ 单独修改号源
- 📊 实时计算总号源
- 📆 显示星期信息

#### 后端API更新

##### 新增接口
- `PUT /api/admin/schedules/:id` - 更新单个号源

##### 优化接口
- `POST /api/admin/schedules/batch` - 支持日期范围参数（startDate, endDate）
- `GET /api/admin/schedules` - 支持按医生和日期范围查询，返回合并格式

#### 文件变更

##### 新增文件
- `backend/admin/login.html` - 登录页面
- `ADMIN_GUIDE.md` - 管理后台使用说明
- `ADMIN_QUICKSTART.md` - 快速开始指南
- `CHANGELOG.md` - 更新日志

##### 修改文件
- `backend/admin/index.html` - 重构为带菜单的管理界面
- `backend/server.js` - 优化号源管理接口

#### 技术改进
- 🔒 增强安全性（登录认证）
- 🎨 改进用户体验
- 📊 优化数据展示
- ⚡ 提升操作效率

#### 使用说明
详见：
- [管理后台使用说明](./ADMIN_GUIDE.md)
- [快速开始指南](./ADMIN_QUICKSTART.md)

---

## v1.0.0 - 2025-12-03

### 初始版本

#### 功能
- 医生信息管理
- 预约功能
- 号源管理基础功能
- 微信小程序端
- 企业微信消息推送

#### 技术栈
- 后端：Node.js + Express + MySQL
- 前端：微信小程序原生开发
- 管理后台：原生HTML/CSS/JavaScript
