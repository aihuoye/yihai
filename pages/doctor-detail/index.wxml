<view class="doctor-page" wx:if="{{doctor}}">
  <view class="profile card">
      <view class="profile-header">
        <image class="profile-avatar" src="{{doctor.avatarImage || defaultAvatar}}" mode="aspectFill" />
        <view class="profile-info">
        <view class="profile-name">{{doctor.name}}</view>
        <view class="profile-title">{{doctor.title}}</view>
        <view class="profile-meta">{{doctor.hospitalName}} Â· {{doctor.departmentName}}</view>
        <view class="profile-expertise">æ“…é•¿ï¼š{{doctor.expertise}}</view>
      </view>
    </view>
    <view class="profile-desc">ã€æ“…é•¿ã€‘{{doctor.intro}}</view>
  </view>

  <view class="card schedule-card">
    <view class="section-tabs">
      <view class="tab {{activeSection === 'schedule' ? 'active' : ''}}" data-tab="schedule" bindtap="handleSectionChange">æŒ‚å·</view>
      <view class="tab {{activeSection === 'intro' ? 'active' : ''}}" data-tab="intro" bindtap="handleSectionChange">ä»‹ç»</view>
    </view>

    <block wx:if="{{activeSection === 'schedule'}}">
      <block wx:for="{{schedules}}" wx:key="dateText">
        <view class="schedule-item">
          <view class="schedule-info">
            <view class="schedule-date">{{item.dateText}}</view>
            <view class="schedule-extra">ä½™å· {{item.remain}} Â· å…¨å¤©</view>
          </view>
          <button class="book-btn" data-date="{{item.dateText}}" bindtap="handleScheduleBooking">é¢„çº¦</button>
        </view>
      </block>
    </block>

    <block wx:else>
      <view class="intro-section">
        <view class="intro-item">
          <view class="intro-title">æ“…é•¿</view>
          <view class="intro-text">{{doctor.expertise}}</view>
        </view>
        <view class="intro-item">
          <view class="intro-title">ä»‹ç»</view>
          <view class="intro-text">{{doctor.intro}}</view>
        </view>
      </view>
    </block>
  </view>
</view>

<empty-state wx:else text="åŒ»ç”Ÿä¿¡æ¯ä¸å­˜åœ¨" icon="ğŸ©º" />
