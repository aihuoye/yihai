<view class="page" wx:if="{{doctor}}">
  <view class="card">
    <view class="section-title">å°±è¯Šä¿¡æ¯</view>
    <view class="info-row">åŒ»é™¢ï¼š{{hospital.name}}</view>
    <view class="info-row">ç§‘å®¤ï¼š{{department ? department.name : ''}}</view>
    <view class="info-row">åŒ»ç”Ÿï¼š{{doctor.name}}ï¼ˆ{{doctor.title}}ï¼‰</view>
  </view>

  <view class="card">
    <view class="section-title">é€‰æ‹©æ—¥æœŸ</view>
    <view class="date-row">
      <block wx:for="{{dates}}" wx:key="value">
        <view class="date-pill {{selectedDate === item.value ? 'active' : ''}}" data-value="{{item.value}}" bindtap="selectDate">{{item.label}}</view>
      </block>
    </view>
    <view class="section-title">é€‰æ‹©æ—¶é—´æ®µ</view>
    <view class="slot-row">
      <block wx:for="{{doctor.slots}}" wx:key="*this">
        <view class="slot-pill {{selectedSlot === item ? 'active' : ''}}" data-value="{{item}}" bindtap="selectSlot">{{item}}</view>
      </block>
    </view>
  </view>

  <view class="card form">
    <view class="section-title">å°±è¯Šäººä¿¡æ¯</view>
    <view class="form-item">
      <text>å§“å</text>
      <input placeholder="è¯·è¾“å…¥çœŸå®å§“å" value="{{patientName}}" data-field="patientName" bindinput="handleInput" />
    </view>
    <view class="form-item">
      <text>èº«ä»½è¯</text>
      <input placeholder="18ä½èº«ä»½è¯å·" value="{{idCard}}" data-field="idCard" bindinput="handleInput" />
    </view>
    <view class="form-item">
      <text>æ‰‹æœºå·</text>
      <input placeholder="æ¥æ”¶é€šçŸ¥çš„æ‰‹æœºå·" type="number" value="{{mobile}}" data-field="mobile" bindinput="handleInput" />
    </view>
  </view>

  <button class="button-primary submit" bindtap="submit">æäº¤é¢„çº¦</button>
</view>

<block wx:else>
  <empty-state text="æš‚æ— åŒ»ç”Ÿä¿¡æ¯" icon="ğŸ©º" />
</block>
