<view class="date-page">
  <view class="dept-banner">
    <view class="dept-title">{{deptName || 'é¢„çº¦æŒ‚å·'}}</view>
    <view class="dept-desc">æŒ‰æ—¥æœŸé€‰æ‹©å·æº</view>
  </view>

  <view class="calendar card">
    <view class="calendar-header">
      <text class="arrow" bindtap="prevMonth">â€¹</text>
      <text class="month">{{currentMonth}}</text>
      <text class="arrow" bindtap="nextMonth">â€º</text>
    </view>
    <view class="week-row">
      <text wx:for="{{weekDays}}" wx:key="*this">{{item}}</text>
    </view>
    <view class="day-row">
      <block wx:for="{{calendarDays}}" wx:key="full">
        <view
          class="day-item {{index === selectedDayIndex ? 'active' : ''}}"
          data-index="{{index}}"
          bindtap="handleDaySelect"
        >
          {{item.label}}
        </view>
      </block>
    </view>
  </view>

  <view class="doctor-list">
    <block wx:for="{{doctorList}}" wx:key="name">
      <view class="doctor-card">
        <image class="doctor-avatar" src="{{item.avatarImage || defaultAvatar}}" mode="aspectFill" />
        <view class="doctor-content">
          <view class="doctor-header">
            <view class="doctor-info">
              <view class="doctor-name">{{item.name}}</view>
              <view class="doctor-title">{{item.title}}</view>
            </view>
            <button class="book-btn" data-name="{{item.name}}" bindtap="goBooking">é¢„çº¦</button>
          </view>
          <view class="doctor-meta">{{item.expertise}}</view>
          <view class="doctor-intro">ã€æ“…é•¿ã€‘{{item.intro}}</view>
        </view>
      </view>
    </block>
  </view>

  <view class="tabbar-space"></view>
</view>

<view class="tabbar">
  <view class="tab-item" data-tab="home" bindtap="handleTabTap">
    <text class="tab-icon">ğŸ </text>
    <text class="tab-label">é¦–é¡µ</text>
  </view>
  <view class="tab-item active" data-tab="booking" bindtap="handleTabTap">
    <text class="tab-icon">â•</text>
    <text class="tab-label">é¢„çº¦æŒ‚å·</text>
  </view>
  <view class="tab-item" data-tab="mine" bindtap="handleTabTap">
    <text class="tab-icon">ğŸ‘¤</text>
    <text class="tab-label">æˆ‘çš„</text>
  </view>
</view>
